# AUV_and_base

本项目为比赛与学术研究目的开源，专为机器人与基站自动对接及高效光通信任务设计。系统基于ROS环境，集成了多模态感知、自主导航与运动控制、深度学习视觉处理、通信协议融合等多种前沿技术，在自动化作业与智能感知方面具备卓越表现。

---

## 项目简介

本项目围绕水下机器人（AUV）与固定基站的“自主对接”与“光通信”核心任务展开，兼顾多目标识别、自主巡航、环境数据采集和任务过程中的智能分割检测。系统支持无人化持续作业，具备极高的可靠性与扩展性。依托深度学习、图像处理、通信协议、运动学建模等多重技术融合，实现了高精度、高速率、高鲁棒性的对接与数据交互。

---

## 主要功能与实现

### 1. 机器人与基站自动对接

- **多传感器融合感知与定位**  
  系统采用深度学习视觉识别（YOLO系列、AprilTag等）、融合IMU等多种传感方式，AUV自主识别基站并动态规划对接路径。  
- **多状态机任务调度**  
  引入有限状态机分阶段推进任务（APPROACH/HOLD/FORWARD等），结合PID运动控制，实现精准进场、对接与分离。  
- **高鲁棒性运动控制**  
  所有关键过程均采用滑动平均滤波、阈值策略，确保在复杂光照、水下扰动环境中依然保持高精度操作。

### 2. 光通信与高效数据交互

- **TCP光通信协议封装**  
  支持大文件（如视频）分块传输，自动重试和进度反馈。采用固定头+内容分块策略保证文件完整性和链路稳定性。
- **实时数据上传/回传机制**  
  支持对接后自动回传采集到的视频/环境参数，实现任务全流程闭环。

### 3. 智能目标检测与分割

- **集成YOLOv8等先进视觉模型**  
  对任务相关目标（如色标灯、管道、鸭蛋等）实现高效检测和分割，模型自适应调度，自动选择合适精度与速度。
- **多目标/多类别识别并发**  
  单帧最大识别数量10+，可靠距离可达4~6米。目标检测率≥95%，错误率≤3%。

### 4. 自主巡航与任务管理

- **任务链路自动切换与异常处理**  
  对接丢失/通信异常自动撤退并恢复巡航；所有关键动作均有回滚与超时自保护机制。
- **多线程/异步设计**  
  通信、视觉、运动控制完全解耦，充分发挥多核CPU和硬件加速能力，任务切换流畅无阻塞。

---

## 系统优势与技术创新

- **全栈自研多传感器融合运动控制框架**  
  多线程+有限状态机架构，运动控制逻辑与感知解耦，任务调度灵活，鲁棒性极强。
- **视觉感知与传统传感器深度融合**  
  兼容YOLO、AprilTag、IMU等多源输入，环境适应性极佳。
- **工程化与可靠性突出**  
  代码工程化程度高，便于二次开发与移植，所有接口高度模块化，极大提高了可扩展性和复用性。
- **自动化与全流程闭环**  
  实现了“自主感知-智能决策-精确运动-数据通信-任务闭环”全链路自动化，降低人工干预需求。

---

## 环境依赖

- 操作系统：Ubuntu 20.04（推荐）
- Python：3.8及以上
- ROS：Noetic
- 主要依赖库：
    - opencv-python
    - numpy
    - pymavlink
    - ultralytics
    - pupil_apriltags
    - 详见各子模块/代码
- C++依赖：
    - OpenCV >= 4.0
    - g++/clang++
    - 详见各子模块/代码

---

## 代码结构概览

- ├── auv/ # ROS工作空间（AUV本体核心）
- ├── build/ # ROS编译生成目录
- ├── devel/ # ROS开发环境目录
- └── src/ # ROS功能包与主业务代码
- 
- ├── base_station/ # 基站端代码
- ├── recv_from_robot/ # 基站端接收模块
- └── base_station.py # 基站主程序
---

## 使用说明

请根据实际应用场景，结合代码注释与模块说明，自行配置环境与参数。项目各模块均有详尽注释和工程化接口，便于移植与扩展。

---
